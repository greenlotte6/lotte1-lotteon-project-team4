<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gothic+A1&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Nanum+Gothic&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/View/css/coupon/list.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <title>쿠폰관리</title>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
  const modal = document.querySelector(".modal-overlay");
  const closeBtn = document.querySelector(".close-btn");
  const closeIcon = document.querySelector(".modal-close");

  // 쿠폰번호(td) 클릭 시 모달 열기
  document.querySelectorAll(".coupon-number").forEach(function (el) {
    el.addEventListener("click", function () {
      modal.style.display = "flex";

      // ✅ 여기에 쿠폰번호를 가져와서 출력하거나 ajax로 정보 가져오는 코드 추가 가능
      const couponNumber = el.dataset.coupon;
      console.log("클릭된 쿠폰번호:", couponNumber);
    });
  });

  // 모달 닫기 (닫기 버튼 또는 X)
  function closeModal() {
    modal.style.display = "none";
  }

  closeBtn.addEventListener("click", closeModal);
  closeIcon.addEventListener("click", closeModal);

  // 바깥 클릭 시 모달 닫기
  modal.addEventListener("click", function (e) {
    if (e.target === modal) {
      closeModal();
    }
  });

  // 쿠폰 등록 모달 관련 코드 추가
  const registerModal = document.querySelector("#registerModal");
  const openRegisterModalBtn = document.querySelector("#openModalBtn");
  const registerCloseBtn = document.querySelector("#registerCloseBtn");
  const registerCloseBtn2 = document.querySelector("#registerCloseBtn2");

  // 쿠폰 등록 모달 열기
  openRegisterModalBtn.addEventListener("click", function () {
    registerModal.style.display = "flex";
  });

  // 쿠폰 등록 모달 닫기
  registerCloseBtn.addEventListener("click", function () {
    registerModal.style.display = "none";
  });

  registerCloseBtn2.addEventListener("click", function () {
    registerModal.style.display = "none";
  });

  // 날짜 선택 / 발급일로부터 선택 토글
  const calendarInputs = document.querySelector("#calendarInputs");
  const daysInput = document.querySelector("#daysInput");
  const periodRadios = document.querySelectorAll('input[name="periodType"]');

  periodRadios.forEach(function (radio) {
    radio.addEventListener("change", function () {
      if (radio.value === "calendar") {
        calendarInputs.style.display = "block";
        daysInput.style.display = "none";
      } else if (radio.value === "days") {
        calendarInputs.style.display = "none";
        daysInput.style.display = "block";
      }
    });
  });
});

      </script>
    
</head>
<body>
    <header>
        <div class="wrapper">
            <div class="wrapper-suv">
                <div class="user-nav">
                    <ul>
                        <li><a href="#">홈</a></li>
                        <li><a href="#">로그아웃</a></li>
                        <li><a href="#">고객센터</a></li>
                    </ul>
                </div>
                <div class="logo">
                    <a href="#"><img src="/View/images/logo/logo_white.png" alt="LotteON-logo"></a>
                </div>
            </div>
        </div>
    </header>
    <main>
        <div class="table-wrapper">

            <table>
                <tr>
                    <th>쿠폰번호</th>
                    <th>쿠폰종류</th>
                    <th>쿠폰명</th>
                    <th>혜택</th>
                    <th>사용기간</th>
                    <th>발급자</th>
                    <th>발급수</th>
                    <th>사용수</th>
                    <th>상태</th>
                    <th>발급일</th>
                    <th>관리</th>
                </tr>
                <tr>
                    <td class="coupon-number" data-coupon="10121211341">10121211341</td>
                    <td>개별상품 할인</td>
                    <td>10월 한달 감사 쿠폰</td>
                    <td>2,000원 할인</td>
                    <td>0000-00-00<br>~0000-00-00</td>
                    <td>(주)다있어</td>
                    <td>102</td>
                    <td>43</td>
                    <td>
                        <span class="issuing">발급중</span>
                    </td>
                    <td>0000-00-00<br>00:00:00</td>
                    <td>
                        <span class="end">종료</span>
                    </td>
                </tr>
                <tr>
                    <td class="coupon-number" data-coupon="10121211342">10121211342</td>
                    <td>주문상품 할인</td>
                    <td>회원가입 축하 쿠폰</td>
                    <td>15% 할인</td>
                    <td>발급일로 100일이내</td>
                    <td>최고관리자</td>
                    <td>567</td>
                    <td>262</td>
                    <td>
                        <span class="issuing">발급중</span>
                    </td>
                    <td>0000-00-00<br>00:00:00</td>
                    <td>
                        <span class="end">종료</span>
                    </td>
                </tr>
                <tr>
                    <td class="coupon-number" data-coupon="10121211343">10121211343</td>
                    <td>배송비 무료</td>
                    <td>배송비 무료 쿠폰</td>
                    <td>배송비 무료</td>
                    <td>발급일로 100일이내</td>
                    <td>최고관리자</td>
                    <td>567</td>
                    <td>262</td>
                    <td>
                        <span class="issuing">발급중</span>
                    </td>
                    <td>0000-00-00<br>00:00:00</td>
                    <td>
                        <span class="end">종료</span>
                    </td>
                </tr>
                <tr>
                    <td class="coupon-number" data-coupon="10121211344">10121211344</td>
                    <td>개별상품 할인</td>
                    <td>특별 감사 쿠폰</td>
                    <td>1,500원 할인</td>
                    <td>0000-00-00<br>~0000-00-00</td>
                    <td>(주)그린샵</td>
                    <td>80</td>
                    <td>56</td>
                    <td>
                        <span class="ended">종료</span>
                    </td>
                    <td>0000-00-00<br>00:00:00</td>
                    <td>
                        <span class="end2">종료</span>
                    </td>
                </tr>
                <tr>
                    <td class="coupon-number" data-coupon="10121211345">10121211345</td>
                    <td>개별상품 할인</td>
                    <td>특별 감사 쿠폰</td>
                    <td>1,500원 할인</td>
                    <td>0000-00-00<br>~0000-00-00</td>
                    <td>(주)그린샵</td>
                    <td>80</td>
                    <td>56</td>
                    <td>
                        <span class="ended">종료</span>
                    </td>
                    <td>0000-00-00<br>00:00:00</td>
                    <td>
                        <span class="end2">종료</span>
                    </td>
                </tr>
            </table>
            <div class="pagination-wrapper">
                <div class="pagination">
                    <a href="#">이전</a>
                    <a href="#">1</a>
                    <a href="#">2</a>
                    <a href="#">3</a>
                    <a href="#">4</a>
                    <a href="#">5</a>
                    <a href="#">다음</a>
                </div>
                 <div class="action-button">
                    <button id="openModalBtn">쿠폰 등록</button>
                </div>
            </div>
        </div>

    </main>
    <div class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <span class="modal-title">쿠폰정보</span>
                <span class="modal-close">&times;</span>
              </div>
          <div class="modal-content">
            <table>
              <tr>
                <th>쿠폰번호</th>
                <td>10121211341</td>
                <th>발급처</th>
                <td>(주)다있어</td>
              </tr>
              <tr>
                <th>쿠폰종류</th>
                <td colspan="3">개별상품 할인</td>
              </tr>
              <tr>
                <th>쿠폰명</th>
                <td colspan="3">10월 한달 감사 쿠폰 이벤트</td>
              </tr>
              <tr>
                <th>혜택</th>
                <td colspan="3">2,000 원 할인</td>
              </tr>
              <tr>
                <th>사용기간</th>
                <td colspan="3">0000-00-00 ~ 0000-00-00</td>
              </tr>
              <tr>
                <th>유의사항</th>
                <td colspan="3">
                  상품 중복 할인 쿠폰<br>
                  - 상품 1개에 대해 사용 가능<br>
                  - 판매자 자체할인/상품할인 쿠폰과 중복 사용 가능<br><br>
                  사용처<br>
                  - (주)다있어
                </td>
              </tr>
            </table>
          </div>
          <div class="modal-footer">
            <button class="close-btn">닫기</button>
          </div>
        </div>
      </div>
      <!-- 쿠폰 등록 모달 -->
<div class="modal-overlay" id="registerModal" style="display: none;">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">쿠폰 등록</span>
        <span class="modal-close" id="registerCloseBtn">&times;</span>
      </div>
  
      <div class="modal-content">
        <table>
          <tr>
            <th>발급처</th>
            <td><input type="text" name="couponNumber" placeholder="예)(주)다있어"></td>
          </tr>
          <tr>
            <th>쿠폰종류</th>
            <td>
              <select name="couponType" id="couponType" required>
                <option value="">종류 선택</option>
                <option value="개별상품 할인">개별상품 할인</option>
                <option value="주문상품 할인">주문상품 할인</option>
                <option value="배송비 무료">배송비 무료</option>
              </select>
            </td>
          </tr>
          <tr>
            <th>쿠폰명</th>
            <td><input type="text" name="couponName" placeholder="쿠폰명을 입력하세요"></td>
          </tr>
          <tr>
            <th>혜택</th>
            <td>
              <label><input type="checkbox" name="benefit" value="1000"> 1,000원 할인</label>
              <label><input type="checkbox" name="benefit" value="2000"> 2,000원 할인</label>
              <label><input type="checkbox" name="benefit" value="3000"> 3,000원 할인</label>
              <label><input type="checkbox" name="benefit" value="4000"> 4,000원 할인</label>
              <label><input type="checkbox" name="benefit" value="5000"> 5,000원 할인</label>
              <label><input type="checkbox" name="benefit" value="10%"> 10% 할인</label>
              <label><input type="checkbox" name="benefit" value="20%"> 20% 할인</label>
              <label><input type="checkbox" name="benefit" value="30%"> 30% 할인</label>
              <label><input type="checkbox" name="benefit" value="40%"> 40% 할인</label>
              <label><input type="checkbox" name="benefit" value="50%"> 50% 할인</label>
              <label><input type="checkbox" name="benefit" value="free_shipping"> 배송비 무료</label>
            </td>
          </tr>
          <tr>
            <th>사용기간</th>
            <td>
              <label>
                <input type="radio" name="periodType" value="calendar" checked> 날짜 선택
              </label>
              <label>
                <input type="radio" name="periodType" value="days"> 발급일로부터
              </label>
              <div id="calendarInputs">
                <input type="date" id="startDate" name="startDate"> ~ 
                <input type="date" id="endDate" name="endDate">
              </div>
              <div id="daysInput" style="display: none;">
                <input type="number" name="validDays" id="validDays" placeholder="예: 100"> 일 이내
              </div>
            </td>
          </tr>
          <tr>
            <th>유의사항</th>
            <td colspan="3">
              <input name="notice" id="notice" style="padding: 50px;"></textarea>
            </td>
          </tr>
        </table>
      </div>
  
      <div class="modal-footer">
        <button class="close-btn" id="registerCloseBtn2" style="background-color: #a6a6a6;">닫기</button>
        <button class="close-btn" type="submit">등록</button>
      </div>
    </div>
  </div>
  
</body>
</html>